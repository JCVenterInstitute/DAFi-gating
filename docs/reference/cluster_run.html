<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Clustering algorithm wrapper function — cluster_run • DAFi</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">DAFi</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/DAFi.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Clustering algorithm wrapper function</h1>
    </div>

    
    <p>Will generate the clustering results necessary for downstream filtering/gating and plotting</p>
    

    <pre class="usage"><span class='fu'>cluster_run</span>(<span class='no'>fcs_in</span>, <span class='no'>colsToUse</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>xdims</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>ydims</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"Kmeans"</span>, <span class='kw'>initializer</span> <span class='kw'>=</span> <span class='st'>"kmeans++"</span>, <span class='kw'>debugmode</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fcs_in</th>
      <td><p>compensated and transformed FCS in the flowFrame format as input</p></td>
    </tr>
    <tr>
      <th>colsToUse</th>
      <td><p>select the channels to use for the clustering: c(7,8,9,10)</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>select the number of desired clusters for the Kmeans-type clustering algorithms (default 100)</p></td>
    </tr>
    <tr>
      <th>xdims</th>
      <td><p>number of SOM nodes in x direction for FlowSOM algorithm (default 10)</p></td>
    </tr>
    <tr>
      <th>ydims</th>
      <td><p>number of SOM nodes in y direction for FlowSOM algorithm (default 10)</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>set clustering algorithm from the following choices: 'Kmeans' (default), 'fSOM'</p></td>
    </tr>
    <tr>
      <th>initializer</th>
      <td><p>set initializer for Kmeans methods from the following choices: 'optimal_init', 'quantile_init', 'kmeans++' (default), and 'random'; see <a href='https://cran.r-project.org/web/packages/ClusterR/ClusterR.pdf'>ClusterR</a></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>list</code> with four items: the first is the clustering result object directly from ClusterR or FlowSOM 
        containing all information as originally constructed in the respective clustering packages, the second is the cluster membership mapping 
        according the the original sequence from the input flowFrame, the third is the centroids in terms of the medianvalues of the columns 
        from the flowFrame based on the membership mapping, and the fourth is the new flowFrame containing just the k (or xdims X ydims) number of centroids.
        This is a wrapper function for clustering methods included in
        <a href='https://cran.r-project.org/web/packages/ClusterR/ClusterR.pdf'>ClusterR</a> and
        <a href='https://bioconductor.org/packages/release/bioc/html/FlowSOM.html'>FlowSOM</a>
        Please see their documentations for more options.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='DAFi.html'>DAFi</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Kmeans with random initializer</span>
<span class='no'>clusterResult</span> <span class='kw'>&lt;-</span> <span class='fu'>cluster_run</span>(<span class='no'>sampleflowFrame</span>, <span class='kw'>colsToUse</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>9</span>,<span class='fl'>12</span>,<span class='fl'>14</span>:<span class='fl'>18</span>), <span class='kw'>k</span><span class='kw'>=</span><span class='fl'>500</span>,
                      <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"Kmeans"</span>, <span class='kw'>initializer</span><span class='kw'>=</span><span class='st'>"random"</span>)</div><div class='output co'>#&gt; Clustering via Kmeans </div><div class='output co'>#&gt; <span class='error'>Error in exprs(fcs_in): object 'sampleflowFrame' not found</span></div><div class='input'>
<span class='co'># Kmeans with kmeans++ initializer</span>
<span class='no'>clusterResult</span> <span class='kw'>&lt;-</span> <span class='fu'>cluster_run</span>(<span class='no'>sampleflowFrame</span>, <span class='kw'>colsToUse</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>9</span>,<span class='fl'>12</span>,<span class='fl'>14</span>:<span class='fl'>18</span>), <span class='kw'>k</span><span class='kw'>=</span><span class='fl'>500</span>)</div><div class='output co'>#&gt; Clustering via Kmeans </div><div class='output co'>#&gt; <span class='error'>Error in exprs(fcs_in): object 'sampleflowFrame' not found</span></div><div class='input'>
<span class='co'># FlowSOM</span>
<span class='no'>clusterResult</span> <span class='kw'>&lt;-</span> <span class='fu'>cluster_run</span>(<span class='no'>sampleflowFrame</span>, <span class='kw'>colsToUse</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>9</span>,<span class='fl'>12</span>,<span class='fl'>14</span>:<span class='fl'>18</span>), <span class='kw'>xdims</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>ydims</span><span class='kw'>=</span><span class='fl'>25</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>'fSOM'</span>)</div><div class='output co'>#&gt; Clustering via fSOM </div><div class='output co'>#&gt; <span class='error'>Error in ReadInput(input, pattern = pattern, compensate = compensate,     spillover = spillover, transform = transform, toTransform = toTransform,     transformFunction = transformFunction, scale = scale, scaled.center = scaled.center,     scaled.scale = scaled.scale, silent = silent): object 'sampleflowFrame' not found</span></div><div class='output co'>#&gt; <span class='message'>Timing stopped at: 0.031 0.012 0.313</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ivan Chang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
